{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
	<div class="row justify-content-center">
		<div class="col-md-8 text-center">
			<h1>Face Expression Recognition</h1>
		</div>
	</div>

	<div class="row justify-content-center mt-5">
		<div class="col-md-6">
			<form method="post" enctype="multipart/form-data">
				{{ form.hidden_tag() }}
				{% for error in form.photo.errors %}
				<span style="color: red;">{{ error }}</span>
				{% endfor %}

				<div class="form-group row justify-content-center">
					<div class="col-md-8">
						{{ form.photo(class="form-control") }}
					</div>
					<div class="col-md-4">
						{{ form.submit(class="btn btn-success btn-block") }}
					</div>
				</div>
			</form>
		</div>
	</div>

	{% if file_url %}
	<div class="row justify-content-center mt-5">
		<div class="col-md-8 text-center">
			<h4>Uploaded Image</h4>
			<img src="{{ file_url }}" style="max-width: 100%;">
		</div>
	</div>
	{% endif %}

	{% if entry %}
<div class="row justify-content-center mt-5">
	<div class="col-md-8 text-center">
		<h4>Detected Emotions</h4>
		<table class="table">
			<thead>
				<tr>
					<th>Emotion</th>
					<th>Value</th>
				</tr>
			</thead>
			<tbody>
				{% for data in entry %}
				{% for key, value in data['emotions'].items() %}
				<tr>
					<td>{{ key }}</td>
					<td>{{ value }}</td>
				</tr>
				{% endfor %}
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endif %}

	


</html {% endblock %}